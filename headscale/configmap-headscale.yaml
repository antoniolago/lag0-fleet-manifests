---
apiVersion: v1
kind: ConfigMap
metadata:
  name: headscale-default-config
data:
  config.yaml: |
    server_url: "https://vpn.asdas.com"
    server:
      host: "0.0.0.0"
      port: 3000
      cookie_secure: true
    prefixes:
      v4: 100.64.0.0/10
    headscale:
      url: "https://vpn.example.com"
      config_path: "/etc/headscale/config.yaml"
      config_strict: "true"
    integration:
      kubernetes:
        enabled: true
        validate_manifest: true
        pod_name: "headplane-0"
    oidc:
      issuer: "https://your-oidc-issuer-url.com"
      disable_api_key_login: "true"
      token_endpoint_auth_method: "client_secret_post"
      redirect_uri: "https://your-headplane-admin-domain.com/admin/oidc/callback"
      client_id: "REPLACE_IT_WITH_YOUR_OIDC_CLIENT_ID_FOR_HEADPLANE"
    secret:
      name: headplane-secret
      create: true
    noise:
      private_key_path: /var/lib/headscale/noise_private.key
    dns:
      base_domain: "example.com"
      nameservers:
        global:
          - 1.1.1.1
          - 1.0.0.1