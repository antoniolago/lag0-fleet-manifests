apiVersion: source.toolkit.fluxcd.io/v1
kind: HelmRepository
metadata:
  name: submariner
  namespace: submariner
spec:
  interval: 24h
  url: https://submariner-io.github.io/submariner-charts/charts
---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: submariner
  namespace: submariner
spec:
  releaseName: submariner
  targetNamespace: submariner
  install:
    createNamespace: true
  interval: 30m
  chart:
    spec:
      chart: submariner-latest
      sourceRef:
        kind: HelmRepository
        name: submariner
        namespace: submariner-k8s-broker
      interval: 12h
  values:
    submariner:
      clusterId: ""
      token: ""
      clusterCidr: ""
      serviceCidr: ""
      globalCidr: ""
      clustersetIpCidr: ""
      clustersetIpEnabled: false
      loadBalancerEnabled: false
      natEnabled: false
      colorCodes: blue
      debug: true
      serviceDiscovery: true
      cableDriver: "libreswan"
      healthcheckEnabled: true
      coreDNSCustomConfig: {}
      images:
        repository: quay.io/submariner
        tag: ""
    broker:
      server: example.k8s.apiserver
      token: test
      namespace: xyz
      insecure: false
      ca: ""
      globalnet: false
    rbac:
      create: true
    images: {}
    ipsec:
      psk: ""
      debug: false
      forceUDPEncaps: false
      ikePort: 500
      natPort: 4500
    leadership:
      leaseDuration: 10
      renewDeadline: 5
      retryPeriod: 2
    operator:
      image:
        repository: quay.io/submariner/submariner-operator
        tag: ""
        pullPolicy: IfNotPresent
      resources: {}
      tolerations: []
      affinity: {}
    serviceAccounts:
      operator:
        create: true
        name: ""
      gateway:
        create: true
        name: ""
      routeAgent:
        create: true
        name: ""
      globalnet:
        create: true
        name: ""
      lighthouseAgent:
        create: true
        name: ""
      lighthouseCoreDns:
        create: true
        name: ""